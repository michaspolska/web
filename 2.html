<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Blog â€“ Karty z Markdown</title>
  <style>
    body { font-family: Arial, sans-serif; }
    .cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
    .card { border: 1px solid #ddd; border-radius: 10px; padding: 15px; background: #fafafa; }
    .card .header { display: flex; justify-content: space-between; align-items: center; }
    .card h2 { margin: 0; font-size: 20px; }
    .card .date { font-size: 12px; color: gray; }
  </style>
</head>
<body>
  <h1>ðŸ“š Blog z plikÃ³w Markdown</h1>
  <div class="cards" id="cards"></div>

  <!-- biblioteka do parsowania Markdown -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    // Lista plikÃ³w .md (moÅ¼esz potem wygenerowaÄ‡ automatycznie)
    const files = [
      "posts/jak-stac-sie-produktywnym.md",
      "posts/minimalizm.md",
      "posts/poranna-rutyna.md"
    ];

    async function loadPosts() {
      const container = document.getElementById("cards");

      for (let file of files) {
        let response = await fetch(file);
        let text = await response.text();

        // pierwsza linia = data (np. "2025-07-25")
        let lines = text.trim().split("\n");
        let date = lines[0].trim();
        let excerpt = lines[1] || "Brak opisu.";

        // nazwa pliku â†’ tytuÅ‚
        let filename = file.split("/").pop().replace(".md", "");
        let title = filename.replace(/-/g, " ");

        let card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <div class="header">
            <h2>${title}</h2>
            <div class="date">${date}</div>
          </div>
          <p>${marked.parseInline(excerpt)}</p>
          <a href="${file}" class="read-more">Czytaj dalej â†’</a>
        `;
        container.appendChild(card);
      }
    }

    loadPosts();
  </script>
</body>
</html>
